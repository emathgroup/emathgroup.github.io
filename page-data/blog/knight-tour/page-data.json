{"componentChunkName":"component---src-templates-page-js","path":"/blog/knight-tour","webpackCompilationHash":"83413a08c88477164e8f","result":{"data":{"markdownRemark":{"frontmatter":{"title":"马踏棋盘计数","date":"Sat, 26th October 2019","tags":["bubbles"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAWABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEDAv/EABgBAAIDAAAAAAAAAAAAAAAAAAEDAAIF/9oADAMBAAIQAxAAAAHWRnt3QwQCdi4//8QAGhAAAgMBAQAAAAAAAAAAAAAAAAECERIQMf/aAAgBAQABBQK2WyDdch5hmGRTR//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPwFGJH//xAAWEAEBAQAAAAAAAAAAAAAAAAAxADD/2gAIAQEABj8CZw//xAAeEAACAQQDAQAAAAAAAAAAAAAAATERIXGREFFhgf/aAAgBAQABPyF1Hds9GyoXc9jn7xNkddwYxK1Y/9oADAMBAAIAAwAAABBv6EP/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8QVq1//8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EFZOWIMv/8QAIBAAAgEEAQUAAAAAAAAAAAAAAAFhESExQdFRcZHw8f/aAAgBAQABPxCVL2Ptx6s+TdEZ+4Z6kIyjN7fBN5vgaCq9bOFB/9k=","width":150,"height":150,"src":"/static/3ac1e91c4a0e0a6041ac657c16aa9676/44086/chess.jpg","srcSet":"/static/3ac1e91c4a0e0a6041ac657c16aa9676/44086/chess.jpg 1x,\n/static/3ac1e91c4a0e0a6041ac657c16aa9676/1caf6/chess.jpg 1.5x,\n/static/3ac1e91c4a0e0a6041ac657c16aa9676/792e8/chess.jpg 2x"}}}},"html":"<p>mathe于2011年5月提问  </p>\n<p>中国象棋（9×10）棋盘上一只马从任何一个位置出发，没有重复经过所有格子最后返回起始点的不同方案有多少种？\n如果不需要返回起始点，那么又有多少种方案？</p>\n<p>KeyTo9_Fans出手，使用计算机经过艰难的计算，得出最终最后返回起点情况的数目为19381952998732022416892种。\n但是不需要返回起点的情况复杂度太大，还没有人能够求出方案数。</p>\n<h1>详细信息</h1>\n<p>风云剑最先给出了两种<a href=\"https://bbs.emath.ac.cn/forum.php?mod=redirect&#x26;goto=findpost&#x26;ptid=3231&#x26;pid=37314&#x26;fromuid=20\">枚举代码</a>, 可以枚举产生一些马踏棋盘的局面 。</p>\n<p>然后KeyTo9_Fans出手,给出了一种<a href=\"https://bbs.emath.ac.cn/forum.php?mod=redirect&#x26;goto=findpost&#x26;ptid=3231&#x26;pid=37327&#x26;fromuid=20\">使用动态规划计数</a>的重要算法。<br>\n他说这个问题和以前他已经解决过的<a href=\"https://bbs.emath.ac.cn/thread-517-1-1.html\">走格子线路统计问题</a>类似<br>\n那个问题在走格子路线数统计问题里，4种走法的位移为：<br>\n(0, 1) 、 (1,0)、（0，-1）、（-1，0）  </p>\n<p>我们可以根据这种走法，设计出<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>C</mi><mn>4</mn><mn>2</mn></msubsup><mo>=</mo><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">C_4^2=6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0622159999999998em;vertical-align:-0.24810799999999997em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.4518920000000004em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.24810799999999997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">6</span></span></span></span>种瓷砖：<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 456px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12.280701754385966%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAaUlEQVQI1w2NywpAERRF7///mTKgMEBSRPIqySOTe2arvVbtb4wRQkgprbVyzjHG914phRBSa917CyGsteccaLz3oGDUWkspv9YaQgj0nBNjDBocMGPMOdd7hw5G+DDGcM6B771KKUrpD+6Ba9cO4e7HAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bricks\"\n        title=\"bricks\"\n        src=\"/static/e77d3a3e726119cc385fb6b42ba356a8/3abf2/bricks.png\"\n        srcset=\"/static/e77d3a3e726119cc385fb6b42ba356a8/7b5b4/bricks.png 188w,\n/static/e77d3a3e726119cc385fb6b42ba356a8/d266f/bricks.png 375w,\n/static/e77d3a3e726119cc385fb6b42ba356a8/3abf2/bricks.png 456w\"\n        sizes=\"(max-width: 456px) 100vw, 456px\"\n        loading=\"lazy\"\n      />\n    </span><br>\n给每格铺上一种瓷砖。于是路线数统计问题就变成了铺瓷砖方案数统计问题。</p>\n<p>我们从上往下铺瓷砖。</p>\n<p>铺的时候需要考虑：</p>\n<p>1、新铺的瓷砖和已经铺好的瓷砖的边沿是否匹配。</p>\n<p>2、新铺的瓷砖和已经铺好的瓷砖的连通性是否合法。</p>\n<p>可以用动态规划算法统计合法的铺瓷砖方案总数。</p>\n<p>由于所有走法的坐标变化的绝对值不超过 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(1 + 0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">0</span><span class=\"mclose\">)</span></span></span></span>。</p>\n<p>所以边沿状态只有一行格子的信息。</p>\n<p>而马踏棋盘有8种走法：\n(1,2)、（2，1）、（1，-2）、（2，-1）、（-1，2）、（-2，1）、（-1，-2）、（-2，-1)<br>\n相应的一共有<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>C</mi><mn>8</mn><mn>2</mn></msubsup><mo>=</mo><mn>28</mn></mrow><annotation encoding=\"application/x-tex\">C_8^2=28</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0622159999999998em;vertical-align:-0.24810799999999997em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-2.4518920000000004em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">8</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.24810799999999997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord\">8</span></span></span></span>种瓷砖。</p>\n<p>所有走法的坐标变化的绝对值不超过(2 + 1)。  </p>\n<p>所以边沿状态有2行加1个格子的信息。</p>\n<p>即19个格子的信息。</p>\n<p>信息包括：</p>\n<p>1、该格子的两个端口（上一步从哪里跳过来，下一步跳到哪里去）已经确定了几个？用一个数字0、1、2表示。</p>\n<p>2、对于标了数字1的格子，它们的连通情况。用1a、1b、1c……表示。相同的字母表示目前已经相连，不同的字母表示目前尚未相连。</p>\n<p>暂不考虑第2条信息，在最坏的情况下第1条信息就已经有<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>3</mn><mn>19</mn></msup></mrow><annotation encoding=\"application/x-tex\">3^{19}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">3</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mord mtight\">9</span></span></span></span></span></span></span></span></span></span></span></span>种可能了，这个数有点大。但实际情况会好多少，这个暂时不知道。</p>\n<p><a href=\"https://bbs.emath.ac.cn/forum.php?mod=redirect&#x26;goto=findpost&#x26;ptid=3231&#x26;pid=37375&#x26;fromuid=20\">xbtianlang</a> 先枚举出<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>5</mn><mo>×</mo><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">5\\times 6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">5</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">6</span></span></span></span>棋盘有8条回路, 而<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn><mo>×</mo><mn>7</mn></mrow><annotation encoding=\"application/x-tex\">6\\times 7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">6</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">7</span></span></span></span>棋盘<a href=\"https://bbs.emath.ac.cn/forum.php?mod=redirect&#x26;goto=findpost&#x26;ptid=3231&#x26;pid=37401&#x26;fromuid=20\">有1067638条回路</a>。</p>\n<p>KeyTo9_Fans先利用他提出的算法<a href=\"https://bbs.emath.ac.cn/forum.php?mod=redirect&#x26;goto=findpost&#x26;ptid=3231&#x26;pid=37414&#x26;fromuid=20\">计算了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn><mo>×</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">6\\times n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">6</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">n</span></span></span></span>棋盘的回路数目</a>，得出数目和运行时间如下表</p>\n<table>\n<thead>\n<tr>\n<th>棋盘规模</th>\n<th>回路总数</th>\n<th>程序运行时间</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn><mo>×</mo><mn>7</mn></mrow><annotation encoding=\"application/x-tex\">6\\times 7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">6</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">7</span></span></span></span></td>\n<td>1067638</td>\n<td>20s</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn><mo>×</mo><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">6\\times 8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">6</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">8</span></span></span></span></td>\n<td>55488142</td>\n<td>42s</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn><mo>×</mo><mn>9</mn></mrow><annotation encoding=\"application/x-tex\">6\\times 9</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">6</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">9</span></span></span></span></td>\n<td>3374967940</td>\n<td>56s</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>6</mn><mo>×</mo><mn>10</mn></mrow><annotation encoding=\"application/x-tex\">6\\times 10</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">6</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span></span></span></span></td>\n<td>239187240144</td>\n<td>70s</td>\n</tr>\n</tbody>\n</table>\n<p>然后在OEIS网站找到对应的数列<a href=\"http://oeis.org/A175881\">A175881</a></p>\n<p>他继续<a href=\"https://bbs.emath.ac.cn/forum.php?mod=redirect&#x26;goto=findpost&#x26;ptid=3231&#x26;pid=37451&#x26;fromuid=20\">计算<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>7</mn><mo>×</mo><mn>2</mn><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">7\\times 2n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">7</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\">n</span></span></span></span>棋盘的回路数目</a>,得出</p>\n<table>\n<thead>\n<tr>\n<th>棋盘规模</th>\n<th>回路总数</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>7</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">7\\times 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">7</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span></span></span></span></td>\n<td>0</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>7</mn><mo>×</mo><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">7\\times 4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">7</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">4</span></span></span></span></td>\n<td>0</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>7</mn><mo>×</mo><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">7\\times 6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">7</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">6</span></span></span></span></td>\n<td>1067638</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>7</mn><mo>×</mo><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">7\\times 8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">7</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">8</span></span></span></span></td>\n<td>34524432316</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>7</mn><mo>×</mo><mn>10</mn></mrow><annotation encoding=\"application/x-tex\">7\\times 10</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">7</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span></span></span></span></td>\n<td>1250063279938854</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>7</mn><mo>×</mo><mn>12</mn></mrow><annotation encoding=\"application/x-tex\">7\\times 12</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">7</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">2</span></span></span></span></td>\n<td>38350427205194670084</td>\n</tr>\n</tbody>\n</table>\n<p>接下去mathe<a href=\"https://bbs.emath.ac.cn/forum.php?mod=redirect&#x26;goto=findpost&#x26;ptid=3231&#x26;pid=37591&#x26;fromuid=20\">帮忙运行<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">8\\times n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">n</span></span></span></span>得出</a></p>\n<table>\n<thead>\n<tr>\n<th>棋盘规模</th>\n<th>回路总数</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">5</span></span></span></span></td>\n<td>44202</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">6</span></span></span></span></td>\n<td>55488142</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>7</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">7</span></span></span></span></td>\n<td>34524432316</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">8</span></span></span></span></td>\n<td>13267364410532</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>9</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 9</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">9</span></span></span></span></td>\n<td>7112881119092574</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>10</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 10</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span></span></span></span></td>\n<td>4235482818156697040</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>11</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 11</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span></span></span></span></td>\n<td>2085986745706526487660</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>12</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 12</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">2</span></span></span></span></td>\n<td>1105402225545775529519346</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>13</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 13</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">3</span></span></span></span></td>\n<td>586820020252349733523479144</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>14</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 14</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">4</span></span></span></span></td>\n<td>311550865844403670432538061432</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>15</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 15</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">5</span></span></span></span></td>\n<td>162703111270599746594928785964078</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>16</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 16</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">6</span></span></span></span></td>\n<td>85817858712661606753131465774443178</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>17</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 17</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">7</span></span></span></span></td>\n<td>45194091394912063170099393989692461352</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>8</mn><mo>×</mo><mn>18</mn></mrow><annotation encoding=\"application/x-tex\">8\\times 18</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">8</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">8</span></span></span></span></td>\n<td>326323885119378112085100727490253780278</td>\n</tr>\n</tbody>\n</table>\n<p>并且给出了<a href=\"https://bbs.emath.ac.cn/forum.php?mod=redirect&#x26;goto=findpost&#x26;ptid=3231&#x26;pid=37689&#x26;fromuid=20\">Fans的源代码</a>如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\">#include&lt;cstdio></span>\n<span class=\"token comment\">#include&lt;memory></span>\n<span class=\"token comment\">#include&lt;algorithm></span>\n<span class=\"token comment\">#include &lt;string.h></span>\nusing namespace std<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">#define __int64 long long</span>\nconst unsigned int <span class=\"token assign-left variable\">pm</span><span class=\"token operator\">=</span><span class=\"token number\">503</span>,pn<span class=\"token operator\">=</span><span class=\"token number\">8388608</span><span class=\"token punctuation\">;</span>\nchar fn<span class=\"token punctuation\">[</span><span class=\"token number\">96</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nunsigned char a<span class=\"token punctuation\">[</span><span class=\"token number\">20</span><span class=\"token punctuation\">]</span>,b<span class=\"token punctuation\">[</span><span class=\"token number\">20</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nunsigned int c<span class=\"token punctuation\">[</span>pn<span class=\"token punctuation\">]</span>,h,i,j,k,l,m,n,t<span class=\"token punctuation\">;</span>\nunsigned long long o<span class=\"token punctuation\">;</span>\nunsigned __int64 ui,vi,ans<span class=\"token punctuation\">[</span><span class=\"token number\">32</span><span class=\"token punctuation\">]</span>,u<span class=\"token punctuation\">[</span>pn<span class=\"token punctuation\">]</span>,v<span class=\"token punctuation\">[</span>pn<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nFILE *ou<span class=\"token punctuation\">[</span>pm<span class=\"token punctuation\">]</span>,*in<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">#ifndef MODR</span>\n<span class=\"token comment\">#define MODR 0</span>\n<span class=\"token comment\">#endif</span>\n\nunsigned __int64 add<span class=\"token punctuation\">(</span>unsigned __int64 x, unsigned __int64 y<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    if<span class=\"token punctuation\">(</span>MODR<span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>return x+y<span class=\"token punctuation\">;</span>\n    if<span class=\"token punctuation\">((</span>-MODR<span class=\"token punctuation\">)</span>-x<span class=\"token operator\">></span>y<span class=\"token punctuation\">)</span>return x+y<span class=\"token punctuation\">;</span>\n    <span class=\"token builtin class-name\">return</span> x+y+MODR<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nvoid pr<span class=\"token punctuation\">(</span>unsigned int f,unsigned __int64 <span class=\"token function\">v</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n        fwrite<span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v,sizeof<span class=\"token punctuation\">(</span>unsigned __int64<span class=\"token punctuation\">)</span>,1,ou<span class=\"token punctuation\">[</span>f<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nvoid pri<span class=\"token punctuation\">(</span>unsigned __int64 <span class=\"token function\">v</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n        fwrite<span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v,sizeof<span class=\"token punctuation\">(</span>unsigned __int64<span class=\"token punctuation\">)</span>,1,in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nvoid sc<span class=\"token punctuation\">(</span>unsigned int f,unsigned __int64 <span class=\"token operator\">&amp;</span><span class=\"token function\">v</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n        if<span class=\"token punctuation\">(</span>fread<span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v,sizeof<span class=\"token punctuation\">(</span>unsigned __int64<span class=\"token punctuation\">)</span>,1,ou<span class=\"token punctuation\">[</span>f<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>v<span class=\"token operator\">=</span>0ull<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nvoid sci<span class=\"token punctuation\">(</span>unsigned __int64 <span class=\"token operator\">&amp;</span><span class=\"token function\">v</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n        if<span class=\"token punctuation\">(</span>fread<span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>v,sizeof<span class=\"token punctuation\">(</span>unsigned __int64<span class=\"token punctuation\">)</span>,1,in<span class=\"token punctuation\">)</span><span class=\"token operator\">!=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>v<span class=\"token operator\">=</span>0ull<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nunsigned __int64 id<span class=\"token punctuation\">(</span>unsigned char a<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n        unsigned char c<span class=\"token punctuation\">[</span><span class=\"token number\">16</span><span class=\"token punctuation\">]</span>,i,j<span class=\"token punctuation\">;</span>\n        unsigned __int64 s<span class=\"token punctuation\">;</span>\n        memset<span class=\"token punctuation\">(</span>c,0,16<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        for<span class=\"token punctuation\">(</span>i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>l<span class=\"token punctuation\">;</span>i++<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n                <span class=\"token assign-left variable\">j</span><span class=\"token operator\">=</span>a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">></span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n                        if<span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">{</span>\n                                a<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span>-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>i-c<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span>+2<span class=\"token punctuation\">;</span>\n                                a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                        <span class=\"token keyword\">else</span> c<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>i+1<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token assign-left variable\">s</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        for<span class=\"token punctuation\">(</span>i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>l<span class=\"token punctuation\">;</span>i++<span class=\"token punctuation\">)</span>\n                <span class=\"token assign-left variable\">s</span><span class=\"token operator\">=</span>s*<span class=\"token punctuation\">(</span>l+1-i<span class=\"token punctuation\">)</span>+a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token builtin class-name\">return</span> s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nvoid ar<span class=\"token punctuation\">(</span>unsigned __int64 x<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n        unsigned char i,j,k<span class=\"token punctuation\">;</span>\n        <span class=\"token assign-left variable\">k</span><span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n        for<span class=\"token punctuation\">(</span>i<span class=\"token operator\">=</span>l+1<span class=\"token punctuation\">;</span>i<span class=\"token punctuation\">;</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n                i--<span class=\"token punctuation\">;</span>\n                <span class=\"token assign-left variable\">j</span><span class=\"token operator\">=</span>l-i+1<span class=\"token punctuation\">;</span>\n                a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>char<span class=\"token punctuation\">(</span>x%j<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                x/<span class=\"token operator\">=</span>j<span class=\"token punctuation\">;</span>\n                if<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                        a<span class=\"token punctuation\">[</span>i+a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>k<span class=\"token punctuation\">;</span>\n                        a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>k++<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nvoid ad<span class=\"token punctuation\">(</span>unsigned __int64 x<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n        unsigned __int64 s<span class=\"token punctuation\">;</span>\n        <span class=\"token assign-left variable\">s</span><span class=\"token operator\">=</span>id<span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        pr<span class=\"token punctuation\">(</span>s%pm,s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        pr<span class=\"token punctuation\">(</span>s%pm,x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        o++<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nunsigned int d<span class=\"token punctuation\">(</span>unsigned int x<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n        unsigned int i<span class=\"token punctuation\">;</span>\n        for<span class=\"token punctuation\">(</span>i<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>i++<span class=\"token punctuation\">)</span>\n                if<span class=\"token punctuation\">(</span>i<span class=\"token operator\">!=</span>x<span class=\"token operator\">&amp;&amp;</span>a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">==</span>a<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>return i<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nvoid c1<span class=\"token punctuation\">(</span>unsigned int x<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n        unsigned int i,j<span class=\"token punctuation\">;</span>\n        if<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token operator\">==</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>return<span class=\"token punctuation\">;</span>\n        memcpy<span class=\"token punctuation\">(</span>b,<span class=\"token operator\">&amp;</span>a<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>,l<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        if<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token operator\">==</span>a<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n                <span class=\"token assign-left variable\">j</span><span class=\"token operator\">=</span>h/m+2<span class=\"token punctuation\">;</span>\n                b<span class=\"token punctuation\">[</span>x-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n                for<span class=\"token punctuation\">(</span>i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>l<span class=\"token punctuation\">;</span>i++<span class=\"token punctuation\">)</span>\n                        if<span class=\"token punctuation\">(</span>h+i+<span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>&lt;</span>j*m<span class=\"token operator\">&amp;&amp;</span>b<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">!=</span><span class=\"token number\">1</span><span class=\"token operator\">||</span>h+i+<span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span>j*m<span class=\"token operator\">&amp;&amp;</span>b<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">!=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>break<span class=\"token punctuation\">;</span>\n                if<span class=\"token punctuation\">(</span>i<span class=\"token operator\">></span><span class=\"token operator\">=</span>l<span class=\"token punctuation\">)</span>ans<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>add<span class=\"token punctuation\">(</span>ans<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span>,vi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token builtin class-name\">return</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        if<span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>a<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>b<span class=\"token punctuation\">[</span>x-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>a<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">else</span>\n        <span class=\"token punctuation\">{</span>\n                b<span class=\"token punctuation\">[</span>x-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n                b<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>a<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        ad<span class=\"token punctuation\">(</span>vi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nvoid c2<span class=\"token punctuation\">(</span>unsigned int x,unsigned int y<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n        unsigned int i,j<span class=\"token punctuation\">;</span>\n        if<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token operator\">==</span><span class=\"token number\">1</span><span class=\"token operator\">||</span>a<span class=\"token punctuation\">[</span>y<span class=\"token punctuation\">]</span><span class=\"token operator\">==</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>return<span class=\"token punctuation\">;</span>\n        memcpy<span class=\"token punctuation\">(</span>b,<span class=\"token operator\">&amp;</span>a<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>,l<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        if<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token operator\">&amp;&amp;</span>a<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token operator\">==</span>a<span class=\"token punctuation\">[</span>y<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n                <span class=\"token assign-left variable\">j</span><span class=\"token operator\">=</span>h/m+2<span class=\"token punctuation\">;</span>\n                b<span class=\"token punctuation\">[</span>x-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n                b<span class=\"token punctuation\">[</span>y-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n                for<span class=\"token punctuation\">(</span>i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>l<span class=\"token punctuation\">;</span>i++<span class=\"token punctuation\">)</span>\n                        if<span class=\"token punctuation\">(</span>h+i+<span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>&lt;</span>j*m<span class=\"token operator\">&amp;&amp;</span>b<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">!=</span><span class=\"token number\">1</span><span class=\"token operator\">||</span>h+i+<span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span>j*m<span class=\"token operator\">&amp;&amp;</span>b<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">!=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>break<span class=\"token punctuation\">;</span>\n                if<span class=\"token punctuation\">(</span>i<span class=\"token operator\">></span><span class=\"token operator\">=</span>l<span class=\"token punctuation\">)</span>ans<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>add<span class=\"token punctuation\">(</span>ans<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span>,vi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token builtin class-name\">return</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        if<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n                b<span class=\"token punctuation\">[</span>x-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n                b<span class=\"token punctuation\">[</span>y-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n                if<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">[</span>y<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>b<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span>-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>a<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">else</span> b<span class=\"token punctuation\">[</span>y-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>a<span class=\"token punctuation\">[</span>x<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">else</span>\n                if<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">[</span>y<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                        b<span class=\"token punctuation\">[</span>x-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>a<span class=\"token punctuation\">[</span>y<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                        b<span class=\"token punctuation\">[</span>y-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">else</span>\n                <span class=\"token punctuation\">{</span>\n                        b<span class=\"token punctuation\">[</span>x-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">15</span><span class=\"token punctuation\">;</span>\n                        b<span class=\"token punctuation\">[</span>y-1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">15</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n        ad<span class=\"token punctuation\">(</span>vi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nbool cmp<span class=\"token punctuation\">(</span>unsigned int i,unsigned int j<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n        <span class=\"token builtin class-name\">return</span> u<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">&lt;</span>u<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nint <span class=\"token function-name function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n        scanf<span class=\"token punctuation\">(</span><span class=\"token string\">\"%d%d\"</span>,<span class=\"token operator\">&amp;</span>n,<span class=\"token operator\">&amp;</span>m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        //n<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n        //m<span class=\"token operator\">=</span><span class=\"token number\">8</span><span class=\"token punctuation\">;</span>\n        <span class=\"token assign-left variable\">l</span><span class=\"token operator\">=</span>m+m+1<span class=\"token punctuation\">;</span>\n        b<span class=\"token punctuation\">[</span>m+1<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n        b<span class=\"token punctuation\">[</span>m+m<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n        <span class=\"token assign-left variable\">vi</span><span class=\"token operator\">=</span>id<span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        for<span class=\"token punctuation\">(</span>i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>pm<span class=\"token punctuation\">;</span>i++<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n                sprintf<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"sa/%04d.dat\"</span>,i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                ou<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>fopen<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"wb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                if<span class=\"token punctuation\">(</span>vi%pm<span class=\"token operator\">==</span>i<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                        pr<span class=\"token punctuation\">(</span>i,vi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        pr<span class=\"token punctuation\">(</span>i,1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                fclose<span class=\"token punctuation\">(</span>ou<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        for<span class=\"token punctuation\">(</span>h<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>h<span class=\"token operator\">&lt;</span>n*m-m<span class=\"token punctuation\">;</span>h++<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n                <span class=\"token assign-left variable\">o</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                <span class=\"token assign-left variable\">j</span><span class=\"token operator\">=</span>h%m<span class=\"token punctuation\">;</span>\n                for<span class=\"token punctuation\">(</span>i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>pm<span class=\"token punctuation\">;</span>i++<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                        sprintf<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"sb/%04d.dat\"</span>,i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        ou<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>fopen<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"wb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                for<span class=\"token punctuation\">(</span>i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>pm<span class=\"token punctuation\">;</span>i++<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                        sprintf<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"sa/%04d.dat\"</span>,i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token assign-left variable\">in</span><span class=\"token operator\">=</span>fopen<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"rb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        while<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">{</span>\n                                sci<span class=\"token punctuation\">(</span>ui<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                if<span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>ui<span class=\"token punctuation\">)</span>break<span class=\"token punctuation\">;</span>\n                                sci<span class=\"token punctuation\">(</span>vi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                ar<span class=\"token punctuation\">(</span>ui<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                if<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">==</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">{</span>\n                                        memcpy<span class=\"token punctuation\">(</span>b,<span class=\"token operator\">&amp;</span>a<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>,l<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                        ad<span class=\"token punctuation\">(</span>vi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                        <span class=\"token builtin class-name\">continue</span><span class=\"token punctuation\">;</span>\n                                <span class=\"token punctuation\">}</span>\n                                if<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">{</span>\n                                        if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">></span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>c1<span class=\"token punctuation\">(</span>m-2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                        if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">&amp;&amp;</span>h/m<span class=\"token operator\">&lt;</span>n-2<span class=\"token punctuation\">)</span>c1<span class=\"token punctuation\">(</span>m+m-1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                        if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">&lt;</span>m-1<span class=\"token operator\">&amp;&amp;</span>h/m<span class=\"token operator\">&lt;</span>n-2<span class=\"token punctuation\">)</span>c1<span class=\"token punctuation\">(</span>m+m+1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                        if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">&lt;</span>m-2<span class=\"token punctuation\">)</span>c1<span class=\"token punctuation\">(</span>m+2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                        <span class=\"token builtin class-name\">continue</span><span class=\"token punctuation\">;</span>\n                                <span class=\"token punctuation\">}</span>\n                                if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">></span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">{</span>\n                                        if<span class=\"token punctuation\">(</span>h/m<span class=\"token operator\">&lt;</span>n-2<span class=\"token punctuation\">)</span>c2<span class=\"token punctuation\">(</span>m-2,m+m-1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                        if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">&lt;</span>m-1<span class=\"token operator\">&amp;&amp;</span>h/m<span class=\"token operator\">&lt;</span>n-2<span class=\"token punctuation\">)</span>c2<span class=\"token punctuation\">(</span>m-2,m+m+1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                        if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">&lt;</span>m-2<span class=\"token punctuation\">)</span>c2<span class=\"token punctuation\">(</span>m-2,m+2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                <span class=\"token punctuation\">}</span>\n                                if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">&amp;&amp;</span>h/m<span class=\"token operator\">&lt;</span>n-2<span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">{</span>\n                                        if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">&lt;</span>m-1<span class=\"token punctuation\">)</span>c2<span class=\"token punctuation\">(</span>m+m-1,m+m+1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                        if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">&lt;</span>m-2<span class=\"token punctuation\">)</span>c2<span class=\"token punctuation\">(</span>m+m-1,m+2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                <span class=\"token punctuation\">}</span>\n                                if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">&lt;</span>m-2<span class=\"token operator\">&amp;&amp;</span>h/m<span class=\"token operator\">&lt;</span>n-2<span class=\"token punctuation\">)</span>c2<span class=\"token punctuation\">(</span>m+m+1,m+2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                        fclose<span class=\"token punctuation\">(</span>in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token assign-left variable\">in</span><span class=\"token operator\">=</span>fopen<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"wb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        fclose<span class=\"token punctuation\">(</span>in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n//                        printf<span class=\"token punctuation\">(</span><span class=\"token string\">\"%c%c%c%d\"</span>,8,8,8,i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n//                printf<span class=\"token punctuation\">(</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                for<span class=\"token punctuation\">(</span>i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>pm<span class=\"token punctuation\">;</span>i++<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                        fclose<span class=\"token punctuation\">(</span>ou<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                for<span class=\"token punctuation\">(</span>i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>pm<span class=\"token punctuation\">;</span>i++<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                        sprintf<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"sb/%04d.dat\"</span>,i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        ou<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>fopen<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"rb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token assign-left variable\">t</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                        while<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">{</span>\n                                sc<span class=\"token punctuation\">(</span>i,ui<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                if<span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>ui<span class=\"token punctuation\">)</span>break<span class=\"token punctuation\">;</span>\n                                u<span class=\"token punctuation\">[</span>t<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>ui<span class=\"token punctuation\">;</span>\n                                sc<span class=\"token punctuation\">(</span>i,v<span class=\"token punctuation\">[</span>t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                c<span class=\"token punctuation\">[</span>t<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>t++<span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                        fclose<span class=\"token punctuation\">(</span>ou<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        sprintf<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"sb/%04d.dat\"</span>,i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        ou<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>fopen<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"wb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        fclose<span class=\"token punctuation\">(</span>ou<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        sort<span class=\"token punctuation\">(</span>c,c+t,cmp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        sprintf<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"sa/%04d.dat\"</span>,i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token assign-left variable\">in</span><span class=\"token operator\">=</span>fopen<span class=\"token punctuation\">(</span>fn,<span class=\"token string\">\"wb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token assign-left variable\">vi</span><span class=\"token operator\">=</span>v<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                        for<span class=\"token punctuation\">(</span>k<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>k<span class=\"token operator\">&lt;</span><span class=\"token operator\">=</span>t<span class=\"token punctuation\">;</span>k++<span class=\"token punctuation\">)</span>\n                                if<span class=\"token punctuation\">(</span>k<span class=\"token operator\">&lt;</span>t<span class=\"token operator\">&amp;&amp;</span>u<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token operator\">==</span>u<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">[</span>k-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>vi<span class=\"token operator\">=</span>add<span class=\"token punctuation\">(</span>vi,v<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                <span class=\"token keyword\">else</span>\n                                <span class=\"token punctuation\">{</span>\n                                        pri<span class=\"token punctuation\">(</span>u<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">[</span>k-1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                        pri<span class=\"token punctuation\">(</span>vi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                        if<span class=\"token punctuation\">(</span>k<span class=\"token operator\">&lt;</span>t<span class=\"token punctuation\">)</span>vi<span class=\"token operator\">=</span>v<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                                <span class=\"token punctuation\">}</span>\n                        fclose<span class=\"token punctuation\">(</span>in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                //        printf<span class=\"token punctuation\">(</span><span class=\"token string\">\"%03d%c%c%c\"</span>,i,8,8,8<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n//                printf<span class=\"token punctuation\">(</span><span class=\"token string\">\"%c%d %d: %llu<span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>,13,h/m,j,o<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                if<span class=\"token punctuation\">(</span>j<span class=\"token operator\">></span>m-2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>printf<span class=\"token punctuation\">(</span><span class=\"token string\">\"%llu<span class=\"token entity\" title=\"\\n\">\\n</span>\"</span>,ans<span class=\"token punctuation\">[</span>h/m+2<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>fflush<span class=\"token punctuation\">(</span>stdout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n//        scanf<span class=\"token punctuation\">(</span><span class=\"token string\">\"%d\"</span>,<span class=\"token operator\">&amp;</span>h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token builtin class-name\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>并且 <a href=\"https://bbs.emath.ac.cn/forum.php?mod=redirect&#x26;goto=findpost&#x26;ptid=3231&#x26;pid=37698&#x26;fromuid=20\">补充了<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>7</mn><mo>×</mo><mn>2</mn><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">7\\times 2n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">7</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\">n</span></span></span></span>的数目到30</a></p>\n<p>然后数据提交到了OEIS <a href=\"http://oeis.org/A193054\">A193054</a> <a href=\"http://oeis.org/A193055\">A193055</a></p>\n<p>直到2015年Fans换了TB级别硬盘, 终于可以<a href=\"https://bbs.emath.ac.cn/forum.php?mod=redirect&#x26;goto=findpost&#x26;ptid=3231&#x26;pid=60722&#x26;fromuid=20\">向<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>9</mn><mo>×</mo><mn>2</mn><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">9\\times 2n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">9</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\">n</span></span></span></span>问题发起冲击</a>, 历经两个月艰苦计算，得出我们最终目标</p>\n<table>\n<thead>\n<tr>\n<th>棋盘规模</th>\n<th>回路总数</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>9</mn><mo>×</mo><mn>6</mn></mrow><annotation encoding=\"application/x-tex\">9\\times 6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">9</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">6</span></span></span></span></td>\n<td>3374967940</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>9</mn><mo>×</mo><mn>8</mn></mrow><annotation encoding=\"application/x-tex\">9\\times 8</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">9</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">8</span></span></span></span></td>\n<td>7112881119092574</td>\n</tr>\n<tr>\n<td><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>9</mn><mo>×</mo><mn>10</mn></mrow><annotation encoding=\"application/x-tex\">9\\times 10</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">9</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span></span></span></span></td>\n<td>19381952998732022416892</td>\n</tr>\n</tbody>\n</table>\n<p>可能因为数据数目太少，好像没有提交OEIS。</p>","fields":{"slug":"knight-tour"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"knight-tour"}}}