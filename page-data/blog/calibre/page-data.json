{"componentChunkName":"component---src-templates-page-js","path":"/blog/calibre","webpackCompilationHash":"79fc474c121ae22f7dda","result":{"data":{"markdownRemark":{"frontmatter":{"title":"自建电子书的云端服务","date":"Mon, 9th September 2019","tags":["bash"],"thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAEBElEQVQ4y4WUfUxbVRTAXz8YE42JZv4huq0TSgYF2vIx2goyg8bPLcOYGQ1kyZAOY4ZkmmiiLrgsMdPBH2o2MkqhdFDHx/o1BxuFOgIE2LAFCvgFATpKyeofaBW6R+/x3st7T7qQeJKbe9695/zePeeeexiGE5FIxEilUqp7PB7xY0/JxEQHgB3dPb1HuntcxUQnazufSBQHgyt0//Fdu5iEhAQmRuLi4hjOmTGYzBJ+fXj09msGU7Ov29ULN1x9gPXpoeGRQ/z+RYNRin1EMbD4+Hg6X2lrF0DRjY1kU4uls81qA//dJewDG2T4lwLQbrUD3rPej0RSeHur3UF9d3AspsvVy4e3s9PuqG4wmdfGfVMCCAsig/+emJoGbLPeYbOfwd8PEd+ycj3Jl4jpu9VPYbNzcxqj+fKsu38AwuG/CYyNRqMEBIgTopM1shcOh6H3x35obrXMLfr9OsL49PPTEj53j+AwFubmFwgoggdiWZY6E8Ez0QXweoSYAAFHPBOTUNfQeBfrjwp5vOlyaTpsDhoiBqEHQRyMxA738Y8IjEhD82WUd/AFtuz9SgiF7mkEoPOH6zqr8xo1JDBuUAg/2E0QlTseL7xZcgztSc1Aicmp6J3j5bAcCOgE4LXrXTqrIwYIW4FEJ7K6ugpffHkO5KockCmUoNTmo30KJSp99wSsBIPaWKBzeyAJk0hPnxvyX3wFEuWpkJajgfQDOlDkatHetExUgoHB5eX/B/KwhUU/pOVqICkjC7ILnofU7DwKjQEGHwRuEzKft5+847Bnfzq8dew4NFu+hxQcMndKAbiyFYgv5dntLoXlTjg+6aM5M1uugP5kFTyToQZFjhaRgddRSZkeAoGl/y7lZo8rr+2qjZbN1mJmWfo6wItrbV+6Cj4+XQ23BgahoOhVJFdlg7KwAD2domBLyysg/NefeQKQPJ9Gc8vPvplf+MKOknBJTZJTE2BSZhYcPvo2qqs3ogMvF4G6sjCalJ8VycjNh9pvv/sN2z1MYROTPvr03G638pKxcczZdQPuhULC0+NCpjV39qvzUPnRJ+jJ9P2sXJcDR46WwoV6g2dmakpNGFetVspifv19lm8OUnOrpeqioSE0NHIb/llbo+8WXwrCN0tqbgOXDXrupdfhs+qzfwwMDZ4iPsR3ZHR0E5Ysl9O5yWSS0G6B5c7I8O56Y1MD7o2wiNuXb3omKkvLjGZqC+C9qg+h02Y3QnR9N5+ysbExCtsrk20uqNXqzVmlEn9dUxvHG9ps9sJLxqbBppZWqPjgFHxzoW5ocX7+oNAHHU7pG8XFsQ12q4jFYrIpOqHXSypOVkm5NEjaOzqLvF5PEdHJ2plz5yW1NTVivttLJEJvZv4FXjOCw/Nbtr4AAAAASUVORK5CYII=","width":150,"height":150,"src":"/static/9edd39982ea3b809c0dd94493ebf737c/4148e/bash.png","srcSet":"/static/9edd39982ea3b809c0dd94493ebf737c/4148e/bash.png 1x"}}}},"html":"<p><a href=\"https://calibre-ebook.com/download\">calibre</a> 是一个很强大的电子书阅读器，自带了很多功能，其中一个就是calibre-server，可以轻松实现云端共享。</p>\n<h2>界面启动服务</h2>\n<p>打开<a href=\"https://calibre-ebook.com/download\">calibre</a>界面程序，依次点击<strong>connect/share</strong> --><strong>start content server</strong></p>\n<h2>命令行启动服务</h2>\n<p><code class=\"language-text\">calibre-server --port=8080 /home/wayne/CalibreLibrary</code></p>\n<h2>systemd自启动服务</h2>\n<p>编写 <strong>calibre-server.service</strong> 文件。内容：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[Unit]\nDescription=calibre content server\nAfter=network.target\n\n[Service]\nType=simple\nUser=wayne\nGroup=wayne\nExecStart=/usr/bin/calibre-server --port=8080 /home/wayne/CalibreLibrary\n[Install]\nWantedBy=multi-user.target</code></pre></div>\n<p>然后enable起来，试一下.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> calibre-server\n<span class=\"token function\">sudo</span> systemctl daemon-reload\n<span class=\"token function\">sudo</span> systemctl restart calibre-server\n\n<span class=\"token function\">sudo</span> systemctl status calibre-server</code></pre></div>\n<h2>阅读端</h2>\n<p>通过 <code class=\"language-text\">sudo systemctl status calibre-server</code> 查看服务地址。如：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">● calibre-server.service - calibre content server\n   Loaded: loaded (/etc/systemd/system/calibre-server.service; enabled; vendor preset: enabled)\n   Active: active (running) since Sun 2018-09-09 11:17:29 CST; 2s ago\n Main PID: 7113 (calibre-server)\n   CGroup: /system.slice/calibre-server.service\n           └─7113 /opt/calibre/bin/calibre-server --port=8080 /home/wayne/CalibreLibrary\n\nSep 09 11:17:29 X6Ti systemd[1]: Started calibre content server.\nSep 09 11:17:30 X6Ti calibre-server[7113]: calibre server listening on 0.0.0.0:8080\nSep 09 11:17:31 X6Ti calibre-server[7113]: OPDS feeds advertised via BonJour at: 192.168.11.105 port: 8080</code></pre></div>\n<p>然后，打开浏览器 <a href=\"http://192.168.11.105:8080\">http://192.168.11.105:8080</a> ，即可。</p>","fields":{"slug":"calibre"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"calibre"}}}